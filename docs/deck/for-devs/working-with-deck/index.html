<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-deck/for-devs/working-with-deck">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-TM2VPNG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-TM2VPNG",{anonymize_ip:!0})</script>
<script src="https://buttons.github.io/buttons.js" async defer="defer"></script><title data-rh="true">Working with Decks and the CLI | Getdeck</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://getdeck.dev/docs/deck/for-devs/working-with-deck"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Working with Decks and the CLI | Getdeck"><meta data-rh="true" name="description" content="A Deckfile can be understood similar to what a docker-compose file is doing for a developer."><meta data-rh="true" property="og:description" content="A Deckfile can be understood similar to what a docker-compose file is doing for a developer."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://getdeck.dev/docs/deck/for-devs/working-with-deck"><link data-rh="true" rel="alternate" href="https://getdeck.dev/docs/deck/for-devs/working-with-deck" hreflang="en"><link data-rh="true" rel="alternate" href="https://getdeck.dev/docs/deck/for-devs/working-with-deck" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.58e15173.css">
<link rel="preload" href="/assets/js/runtime~main.b5873627.js" as="script">
<link rel="preload" href="/assets/js/main.d64384b0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Getdeck Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.svg" alt="Getdeck Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Getdeck</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/deck/intro">Docs</a><a class="navbar__item navbar__link navbar-icon-menu" href="/docs/deckfile/specs">deck.yaml</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Getdeck/getdeck" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/deck/intro">Getdeck Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/deck/">What is a Deck?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/deck/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/deck/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/deck/for-devops/intro">For DevOps - Operator</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/deck/for-devs/intro">For Developers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deck/for-devs/intro">Introduction for Developers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/deck/for-devs/working-with-deck">Working with Decks and the CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deck/for-devs/cli-reference">CLI Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deck/for-devs/api-reference">API Reference</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">For Developers</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Working with Decks and the CLI</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Working with Decks and the CLI</h1><p>A <a href="/docs/deckfile/specs">Deckfile</a> can be understood similar to what a <code>docker-compose</code> file is doing for a developer.
It creates a development infrastructure, usually coming with multiple services, e.g. databases, full-text search indexes
and applications. However, in opposite to a docker-compose file, a Deckfile creates that infrastructure based on a real
Kubernetes cluster (not just <code>docker run ...</code> with some on-top convenience).  </p><p>Ideally, the Deckfile for a developer&#x27;s setup draws the Kubernetes workloads from production(-close) environments. That
allows development teams to share the configuration in which a container is finally operated.<br>
<!-- -->Getdeck provides a CLI <code>deck</code> which comes with most of the popular tools from the Kubernetes ecosystem without having them
locally managed. This includes <code>Helm</code> (with plugins), <code>kustomize</code> and others. Getdeck allows provisioning Kubernetes
clusters without having developers to know all the ins and outs of these tools. Hence, the process of spinning up development
setups becomes a breeze.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="setup-a-local-development-infrastructure">Setup a local development infrastructure<a class="hash-link" href="#setup-a-local-development-infrastructure" title="Direct link to heading">‚Äã</a></h2><p>Of course, there a countless numbers of development setups, requirements and moving parts in production. However, Getdeck
is designed to be as versatile as possible to different use-case scenarios.
Let&#x27;s assume you want to provision a common Kubernetes-based tech stack on your machine. Either you find what you need
in Getdeck&#x27;s <a href="/docs/deckfile/wharf">Wharf</a>, or you have to write your own Deckfile.<br>
<strong>Important:</strong> If you find a popular stack missing in    Wharf, please consider adding it with a
<a href="https://github.com/Getdeck/wharf" target="_blank" rel="noopener noreferrer"><em>Pull Request</em> on Github</a>.  </p><p>The <code>deck</code> CLI can be called with a specific location of a <code>deck.yaml</code>, for example <code>deck get ./deck.yaml</code>. This
will create the Kubernetes setup from a local Deckfile in this directory.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-happens-on-deck-get-">What happens on <code>deck get ...</code><a class="hash-link" href="#what-happens-on-deck-get-" title="Direct link to heading">‚Äã</a></h2><p>There are a couple of steps automated with the <code>get</code>-operation:</p><ol><li>Load and verify the given Deckfile  </li><li>Check if the Kubernetes provider (such as <em>k3d</em>, <em>kind</em>, etc.) is available; if not, install it  </li><li>Create a logical Kubernetes cluster with the given provider and cluster settings (including port-mappings, etc.)  </li><li>Pull the Kubernetes manifest sources from all specified locations using the identity of the user  </li><li>Preprocess manifest sources, for example generate <em>Helm charts</em> with the configuration from the Deckfile  </li><li>Apply all workload manifests to the Kubernetes cluster  </li><li>Print useful information about the setup and how to get started working with it  </li><li>Optionally: wait for all Pods to become ready  </li></ol><p>This process is supervised by <code>deck</code> to handle common errors or revert everything in case of an unfixable error. Upon
a technical issue the cluster is removed immediately.<br>
<!-- -->In case of persistent errors the <em>debug</em> flag (<code>deck -d get ...</code>) can help to find out what is causing the problem.</p><p>This operation can be run as often as needed. Running it later on will cause your development setup to stay up-to-date
with the Deckfile in case it is pulled from a remote location.<br>
<!-- -->If you need more than one Deck (and the Deckfiles in question also specifies multiple Decks), you can run <code>deck get --name ...</code> for each
required Deck from the file. This will still create only one cluster (effectively sharing it between Decks) and install
multiple Decks to it. This can be useful for multiple development teams which are developing different services communicating with
each other.</p><p>This operation is similar to <code>docker-compose up -d</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="halt-the-development-infrastructure">Halt the development infrastructure<a class="hash-link" href="#halt-the-development-infrastructure" title="Direct link to heading">‚Äã</a></h2><p>The <code>stop</code>-operation allows to pause the current Kubernetes development cluster while keeping the state in place. Depending
on the Kubernetes provider this will shut down the cluster effectively saving resources.<br>
<!-- -->If a cluster is stopped, running another <code>deck get ...</code> on a Deckfile will bring this existing cluster back to life.  </p><p>This operation is similar to <code>docker-compose stop</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="remove-a-deck">Remove a Deck<a class="hash-link" href="#remove-a-deck" title="Direct link to heading">‚Äã</a></h2><p>If you don&#x27;t need to run a certain Deck any longer in your development infrastructure, you can delete it with the <code>remove</code>-operation.
This will execute all the steps from the <code>get</code>-operation (especially the preprocessing of the workload manifests) but instead of
creating the resulting Kubernetes objects in the cluster, the sources are used to remove them.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="remove-the-development-infrastructure">Remove the development infrastructure<a class="hash-link" href="#remove-the-development-infrastructure" title="Direct link to heading">‚Äã</a></h2><p>You can remove Decks individually or remove the entire Kubernetes cluster with the <code>remove --cluster</code>-operation. This will
cause the underlying Kubernetes provider to eliminate the cluster including its state from the development machine.</p><p>This operation is similar to <code>docker-compose down -v --rmi all</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Getdeck/Getdeck.github.io/tree/main/docs/deck/for-devs/working-with-deck.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/deck/for-devs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction for Developers</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/deck/for-devs/cli-reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CLI Reference</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup-a-local-development-infrastructure" class="table-of-contents__link toc-highlight">Setup a local development infrastructure</a></li><li><a href="#what-happens-on-deck-get-" class="table-of-contents__link toc-highlight">What happens on <code>deck get ...</code></a></li><li><a href="#halt-the-development-infrastructure" class="table-of-contents__link toc-highlight">Halt the development infrastructure</a></li><li><a href="#remove-a-deck" class="table-of-contents__link toc-highlight">Remove a Deck</a></li><li><a href="#remove-the-development-infrastructure" class="table-of-contents__link toc-highlight">Remove the development infrastructure</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/deck/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/deckfile/specs">Deckfile</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/deck/for-devs/cli-reference">CLI Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Getdeck/getdeck" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/gefyrahq/gefyra" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gefyra<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://unikube.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unikube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Blueshoe GmbH. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b5873627.js"></script>
<script src="/assets/js/main.d64384b0.js"></script>
</body>
</html>